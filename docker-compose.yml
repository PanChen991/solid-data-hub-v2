
services:
  app:
    container_name: ssb_kms_app
    build: 
      context: .
      dockerfile: Dockerfile
    ports:
      - "8989:8000"
    volumes:
      # Mount Database (ensure persistence)
      - ./backend/database.db:/app/backend/database.db
      # Mount Uploads (ensure file storage persistence)
      - ./backend/uploads:/app/backend/uploads
      # Mount Environment Variables (secrets)
      - ./backend/.env:/app/backend/.env
    restart: unless-stopped
    environment:
      # Optional: Override vars if needed, but .env file is better
      - PYTHONUNBUFFERED=1
